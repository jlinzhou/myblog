---
title: 二叉树
---

# 完全二叉树

1. 需要注意的是不要把完全二叉树和“满二叉树”搞混了，完全二叉树不要求所有树都有左右子树，但它要求：

   1. 任何一个节点不能只有右子树没有左子树

   2. 叶子节点出现在最后一层或者倒数第二层，不能再往上

      ![]( https://mmbiz.qpic.cn/mmbiz_png/NyY6ajhkfSicdzIAVWQ2ib9VFD3Wj9a7xbibicVZZ511Ile3gykBqlGOvjuiaHLLhKQtGx022jfLC774yiaKZJpwdKgg/640?tp=webp&wxfrom=5&wx_lazy=1&wx_co=1 )



# 二叉查找树

**二叉查找树中，左子树都比节点小，右子树都比节点大，递归定义**。

根据二叉排序树这个特点我们可以知道：**二叉排序树的中序遍历一定是从小到大的**。

# 平衡二叉树

平衡二叉树的提出就是为了保证树不至于太倾斜，尽量保证两边平衡。因此它的定义如下：

1. 平衡二叉树要么是一棵空树
2. 要么保证左右子树的高度之差不大于 1
3. 子树也必须是一颗平衡二叉树



# B 树

它和平衡二叉树的不同有这么几点：

1. **平衡二叉树节点最多有两个子树，而 B 树每个节点可以有多个子树**，M 阶 B 树表示该树每个节点最多有 M 个子树
2. 平衡二叉树每个节点**只有一个数据和两个指向孩子的指针**，而 B 树每中间节点**有 k-1 个关键字（可以理解为数据）和 k 个子树**（ k 介于阶数 M 和 M/2 之间，M/2 向上取整）
3. **B 树的所有叶子节点都在同一层**，并且叶子节点只有关键字，指向孩子的指针为 null

# B+ 树



1. 节点的**子树数和关键字数相同**（B 树是关键字数比子树数少一）
2. 节点的关键字表示的是**子树中的最大数**，在子树中同样含有这个数据
3. 叶子节点包含了**全部数据**，同时符合左小右大的顺序



B+ 树的三个优点：

1. **层级更低，IO 次数更少**

2. 每次都需要**查询到叶子节点**，查询**性能稳定**

3. 叶子节点形成**有序链表**，范围查询方便

   

#  红黑树 





# mysql的索引底层原理

### 引擎

 **MyISAM** 

 Myisam 的存储文件有三个，后缀名分别是 .frm、.MYD、MYI，其中 .frm 是表的定义文件，.MYD 是数据文件，.MYI 是索引文件 . B+树结构 

 Myisam 只支持表锁，且不支持事务。 

 **InnoDB** 

 InnoDB 的存储文件有两个，后缀名分别是 .frm 和 .idb，其中 .frm 是表的定义文件，而 idb 是数据文件。 

 在InnoDB 中存在表锁和行锁，InnoDB 支持事务 

因为InnoDB是按照主键聚集的，要是InnoDB没有主键就会找数据表中的位置标志的字段作为主键，要是没有这种字段就会隐世的生成唯一标识的主键，生成的主键默认为长整型，6个字节。

而MyISAM可以要求没有主键，这是这两者的一个明显的区别。

 主键值不要过大，因为所有的普通索引都引用主索引，索引本身是占内存的，若是索引过大，这样就会大大影响查询的效率。 