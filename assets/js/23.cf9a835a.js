(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{411:function(t,a,s){"use strict";s.r(a);var v=s(24),_=Object(v.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("链接: https://juejin.im/post/5b82e0196fb9a019f47d1823")]),t._v(" "),s("h3",{attrs:{id:"乐观锁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#乐观锁"}},[t._v("#")]),t._v(" 乐观锁")]),t._v(" "),s("p",[t._v("​\t不是数据库自带的，需要自己实现。")]),t._v(" "),s("p",[t._v("​\t更新数据时很乐观，认为不会冲突，冲突了会放弃这次更新。")]),t._v(" "),s("h3",{attrs:{id:"悲观锁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#悲观锁"}},[t._v("#")]),t._v(" 悲观锁")]),t._v(" "),s("p",[t._v("​\t在操作数据时会出现数据冲突。")]),t._v(" "),s("p",[t._v("​\t分为"),s("strong",[t._v("共享锁")]),t._v("和"),s("strong",[t._v("排他锁")]),t._v("。")]),t._v(" "),s("p",[t._v("​\t共享锁为读锁，只用于表级 ，本次事务可以读不能写，其他事务只能读。 lock in share mode.")]),t._v(" "),s("p",[t._v("​\t排他锁为写锁， 用于行级 ，本次事务可以读可以写，其他事务增删改查都不行。 for update .")]),t._v(" "),s("h3",{attrs:{id:"行锁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#行锁"}},[t._v("#")]),t._v(" 行锁")]),t._v(" "),s("p",[t._v("多个事务操作同一行数据时，后来的事务处于阻塞等待状态")]),t._v(" "),s("h3",{attrs:{id:"表锁"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表锁"}},[t._v("#")]),t._v(" 表锁")]),t._v(" "),s("p",[t._v("如何加表锁？ innodb 的行锁是在有索引的情况下，没有索引的表是锁定全表的。")]),t._v(" "),s("p",[t._v("​")])])}),[],!1,null,null,null);a.default=_.exports}}]);